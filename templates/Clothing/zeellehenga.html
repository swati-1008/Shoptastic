{% extends 'Clothing/base.html' %}
{% load static %}
{% load mathfilters %}

{% block child_head %}
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
{% endblock %}

{% block display_image %}
<div id="nail0" class="carousel slide display" data-ride="carousel" data-interval="0">
    <!-- Carousel indicators -->
    <ol class="carousel-indicators">
        <li data-target="nail0" data-slide-to="0" class="active"></li>
        <li data-target="#nail0" data-slide-to="1"></li>
        <li data-target="#nail0" data-slide-to="2"></li>
        <li data-target="#nail0" data-slide-to="3"></li>
        <li data-target="#nail0" data-slide-to="4"></li>
    </ol>
     <!-- carousel items -->
     <div class="carousel-inner">
        <div class="item active">
            <img src="{% static 'images/clothing/zeellehenga/zeellehenga1.jpeg' %}" alt="Zeel Clothing Lehenga Choli" style="width: 480px; height: 600px; margin-top: 250px; margin-left: 100px;">
        </div>
        <div class="item">
            <img src="{% static 'images/clothing/zeellehenga/zeellehenga2.jpeg' %}" alt="Zeel Clothing Lehenga Choli" style="width: 480px; height: 600px; margin-top: 250px; margin-left: 100px;">
        </div>
        <div class="item">
            <img src="{% static 'images/clothing/zeellehenga/zeellehenga3.jpeg' %}" alt="Zeel Clothing Lehenga Choli" style="width: 480px; height: 600px; margin-top: 250px; margin-left: 100px;">
        </div>
        <div class="item">
            <img src="{% static 'images/clothing/zeellehenga/zeellehenga4.jpeg' %}" alt="Zeel Clothing Lehenga Choli" style="width: 480px; height: 600px; margin-top: 250px; margin-left: 100px;">
        </div>
        <div class="item">
            <img src="{% static 'images/clothing/zeellehenga/zeellehenga5.jpeg' %}" alt="Zeel Clothing Lehenga Choli" style="width: 480px; height: 600px; margin-top: 250px; margin-left: 100px;">
        </div>
    </div>
    <!-- Carousel controls -->
    <a class="carousel-control left control" href="#nail0" data-slide="prev" style="margin-top: 200px;">
        <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="carousel-control right control" href="#nail0" data-slide="next" style="margin-top: 200px;">
        <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
</div>
{% endblock %}

{% block related_product %}
    <div class="row left">
        <div class="col-sm-2">
            <a href="{% url 'Clothing:babyjumpsuit' %}">
                <img src="{% static 'images/clothing/taslarbabyjumpsuit/babyjumpsuit1.jpeg' %}" alt="Baby Jumpsuit" style="height: 196px; width: 196px;">
                <div style="padding-left: 40px;">
                    <h4>Baby Jumpsuit</h4>
                    <h4 style="padding-left: 20px;">TASLAR</h4>
                    <h4 style="padding-left: 30px;">1,349</h4>
                </div>
            </a>
        </div>
        <div class="col-sm-2">
            <a href="{% url 'Clothing:mensweatshirt' %}">
                <img src="{% static 'images/clothing/mensweatshirt/sweatshirt1.jpeg' %}" alt="Men Sweat Shirt" style="height: 196px; width: 196px;">
                <div style="padding-left: 50px;">
                    <h4>Men Sweat Shirt</h4>
                    <h4 style="padding-left: 40px;">LEWEL</h4>
                    <h4 style="padding-left: 50px;">469</h4>
                </div>
            </a>
        </div>
        <div class="col-sm-2">
            <a href="{% url 'Clothing:menshirt' %}">
                <img src="{% static 'images/clothing/menshirt/shirt1.jpeg' %}" alt="Men ShirtCase" style="height: 196px; width: 196px;">
                <div style="padding-left: 60px;">
                    <h4>Men Shirt</h4>
                    <h4 style="padding-left: 5px;">FINIVO</h4>
                    <h4 style="padding-left: 20px;">687</h4>
                </div>
            </a>
        </div>
        <div class="col-sm-2">
            <a href="{% url 'Clothing:babyromper' %}">
                <img src="{% static 'images/clothing/babyromper/babyromper1.jpeg' %}" alt="Baby Romper" style="height: 196px; width: 196px;">
                <div style="padding-left: 50px;">
                    <h4>Baby Romper</h4>
                    <h4 style="padding-left: 10px;">Popees</h4>
                    <h4 style="padding-left: 25px;">435</h4>
                </div>
            </a>
        </div>
        <div class="col-sm-2">
            <a href="{% url 'Clothing:bandhejsaree' %}">
                <img src="{% static 'images/clothing/bandhejsaree/bandhejsaree1.jpeg' %}" alt="Bandhej Saree" style="height: 196px; width: 196px;">
                <div style="padding-left: 20px;">
                    <h4>Bandhej Saree</h4>
                    <h4 style="padding-left: 10px;">ClothClock</h4>
                    <h4 style="padding-left: 30px;">399</h4>
                </div>
            </a>
        </div>
    </div>
{% endblock %}

{% block comments %}
<table>
    <tr>
        <!-- Customer Reviews Rating, Rating by Feature, Post your Review -->
        <td>
            <table>
                <!-- Customer Reviews Rating -->
                <tr>
                    <!-- Show previous ratings - pass width from views.py as 
                        (20 * 5 + 10 * 4 + 40 * 3 + 5 * 2 + 25 * 1) / 100
                        where out of 100 ratings, 20 people gave 5 stars, 10 people gave 4 stars, 40 people gave 3 stars,
                        5 people gave 2 stars, and 25 people gave 1 star
                        Now final rating = sum of rating / total rating
                        width percentage = final rating * 100 / 5 (because it is a 5 scale rating)
                    -->
                    <div class="left">
                        <h3 class="left">Customer Reviews</h3>
                        <div class="star-ratings-sprite">
                            <span style="width:{{ final_star }}%;" class="star-ratings-sprite-rating"></span>
                        </div>
                        <h4 style="float: left; padding-left: 20px; margin-top: 5px;">{{ final_rating }} out of 5</h4>
                        <br>
                        <div class="star-ratings-sprite">
                            <span style="width:{{ model_star }}%;" class="star-ratings-sprite-rating"></span>
                        </div>
                        <h4 style="float: left; padding-left: 20px; margin-top: 5px;">{{ model_rating }} out of 5</h4>
                        <br>
                        <br>
                        <h4 style="float: right; margin-top: 2px; margin-right: 65px;">(from the Model)</h4>
                        <br>
                        <h5 style="float: left; margin-left: 100px">{{ total_ratings }} global ratings</h5>
                        <br>
                        <div style="float: left;" class="left charts">
                            <div class="chart chart--dev">
                              <ul class="chart--horiz">
                                <li class="chart__bar" style="width: {{ rating1 }}%;">
                                  <span class="chart__label">
                                    5 star
                                  </span>
                                </li>
                                <li class="chart__bar" style="width: {{ rating2 }}%;">
                                  <span class="chart__label">
                                    4 star
                                  </span>
                                </li>
                                <li class="chart__bar" style="width: {{ rating3 }}%;">
                                  <span class="chart__label">
                                    3 star
                                  </span>
                                </li>
                                <li class="chart__bar" style="width: {{ rating4 }}%;">
                                  <span class="chart__label">
                                    2 star
                                  </span>
                                </li>
                                <li class="chart__bar" style="width: {{ rating5 }}%;">
                                  <span class="chart__label">
                                    1 star
                                  </span>
                                </li>
                              </ul>
                            </div>
                        </div>
                    </div>
                </tr>
                <!-- Post your Review and Rating -->
                <tr>
                    <div class="wrapper left">
                        <div class="master">
                          <h3 class="left" style="float: left;">Post your Review And rating</h3>
                          <p class="left" style="float: left;">How was your experience about our product?</p>
                      
                          <form method="POST">
                            {% csrf_token %}
                            <div class="rating-component">
                              <div class="status-msg">
                                  <label>
                                      <input class="rating_msg" type="hidden" name="rating_msg" value=""/>
                                  </label>
                              </div>
                              <div class="stars-box">
                                <i class="star fa fa-star" title="1 star" data-message="Poor" data-value="1"></i>
                                <i class="star fa fa-star" title="2 stars" data-message="Bad" data-value="2"></i>
                                <i class="star fa fa-star" title="3 stars" data-message="Average" data-value="3"></i>
                                <i class="star fa fa-star" title="4 stars" data-message="Nice" data-value="4"></i>
                                <i class="star fa fa-star" title="5 stars" data-message="Excellent" data-value="5"></i>
                              </div>
                              <div class="starrate">
                                  <label>
                                      <input class="ratevalue" type="hidden" name="rate_value" value=""/>
                                  </label>
                              </div>
                            </div>
                          
                            <!-- Messages that come up when a star is clicked -->
                            <div class="feedback-tags">
                              <div class="tags-container" data-tag-set="1">
                                <div class="question-tag">
                                  Why was your experience so bad?
                                </div>
                              </div>
                              <div class="tags-container" data-tag-set="2">
                                <div class="question-tag">
                                  Why was your experience so bad?
                                </div>
                        
                              </div>
                        
                              <div class="tags-container" data-tag-set="3">
                                <div class="question-tag">
                                  Why was your average rating experience ?
                                </div>
                              </div>
                              <div class="tags-container" data-tag-set="4">
                                <div class="question-tag">
                                  Why was your experience good?
                                </div>
                              </div>
                        
                              <div class="tags-container" data-tag-set="5">
                                <div class="make-compliment">
                                  <div class="compliment-container">
                                    Give a compliment
                                    <i class="far fa-smile-wink"></i>
                                  </div>
                                </div>
                              </div>
                              
                              <div class="tags-box">
                                <input type="text" class="tag form-control" name="comment" id="inlineFormInputName" placeholder="please enter your review">
                                <input type="hidden" name="product_id" />
                              </div>

                              <p class="left" style="margin-left: -50px;">{{ required|safe }}</p>
                              
                            </div>
                          
                            <!-- Add Review button -->
                            <div class="button-box">
                              <input type="submit" class=" done btn btn-warning" value="Add review" />
                            </div>
                          
                            <!-- Thank You after Submit -->
                            <div class="submited-box">
                              <div class="loader"></div>
                              <div class="success-message">
                                Thank you!
                              </div>
                            </div>
                          </form>
                      
                      </div>
                    <!-- <div class="left">
                        <h3 class="left" style="float: left;">Post your Rating and Review</h3>
                        <br>
                        <div class="rating rating2" style="margin-left: -20%;" id="rating">
                            <a href="#1" title="Give 5 stars">★</a>
                            <a href="#2" title="Give 4 stars">★</a>
                            <a href="#3" title="Give 3 stars">★</a>
                            <a href="#4" title="Give 2 stars">★</a>
                            <a href="#5" title="Give 1 star">★</a>
                        </div>
                        <form method="POST">
                            {% csrf_token %}
                            <textarea name="comment" placeholder="Share your thoughts with other customers..." class="inpbox" name="comment"></textarea>
                            <p class="left" style="margin-left: 10%; padding-top: 25%; width: 100%;">{{ required|safe }}</p>
                            <input class="post" type="submit" value="POST">
                        </form>
                    </div> -->
                </tr>
            </table>
        </td>
        <!-- Previous Comments on the product -->
        <td class="comments">
            <h3><strong>Top Reviews</strong></h3>
            <div class="reviews">
                {% for comment in comments %}
                    <div>
                        <h4><i class="fas fa-user-circle" style="size: 25x; color: gray;"></i>&nbsp;&nbsp;{{ comment.uid }}</h4>
                        <div class="star-ratings-sprite" style="margin-left: 10px;">
                            <span style="width:{{ comment.rating|mul:20 }}%;" class="star-ratings-sprite-rating"></span>
                        </div>
                        <br>
                        <br>
                        <p style="color: gray;">Reviewed in India on {{ comment.date }}</p>
                        <p style="width: 60%;">{{ comment.comment }}</p>
                    </div>
                {% endfor %}
            </div>
        </td>
    </tr>
</table>
{% endblock %}